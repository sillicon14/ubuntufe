{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rohit\\\\Desktop\\\\intern\\\\Sushmita - Final3\\\\frontend\\\\src\\\\screens\\\\CartScreen.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { Link } from 'react-router-dom';\nimport { addToCart, removeFromCart, getCartItems, updateCart } from '../actions/cartActions';\nimport './Cart.css';\nimport Axios from \"axios\";\nimport Rating from './Rating';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CartScreen(props) {\n  _s();\n\n  const dispatch = useDispatch();\n  const userSignin = useSelector(state => state.userSignin);\n  const {\n    userInfo\n  } = userSignin;\n  const cart = useSelector(state => state.cart);\n  const {\n    cartItems,\n    isCartItemsLOaded\n  } = cart;\n  const cart2 = useSelector(state => state.cart2);\n  const {\n    cartItems2\n  } = cart2;\n\n  if (userInfo) {\n    // const [ttqty,setTtqty] = useState(0);\n    //Total calculation\n    var total = 0,\n        tqty = 0;\n\n    for (const item in cartItems) {\n      total = total + cartItems[item].price * cartItems[item].qty;\n      tqty = parseInt(tqty) + parseInt(cartItems[item].qty);\n    }\n\n    console.log(total); //Total calculation end\n\n    if (!isCartItemsLOaded) {\n      dispatch(getCartItems()); //If CartItems are not LOaded then get the cartitems.\n    }\n\n    const removeFromCartHandler = (productId, itemId) => {\n      if (itemId) {\n        // console.log(\"removeFromCartHandler\",productId);\n        dispatch(removeFromCart(itemId)); //dispatch an action to trigger a state change(Remove item from cart).\n        //popup\n\n        var x = document.getElementById(\"snackbar\");\n        x.className = \"show\";\n        setTimeout(function () {\n          x.className = x.className.replace(\"show\", \"\");\n        }, 2000); //popup-end\n      } else {\n        Axios.get(\"/api/products/\" + productId).then(response => {\n          dispatch(removeFromCart(response._id));\n        });\n      }\n\n      console.log(\"removeFromCartHandler\", productId);\n    };\n\n    const updateCartHandler = (updateId, updateQty) => {\n      console.log(\"updateCartHandler id\", updateId);\n      console.log(\"updateCartHandler qty\", updateQty);\n      dispatch(updateCart(updateId, updateQty));\n    };\n\n    const checkoutHandler = () => {\n      props.history.push(\"/checkout\");\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-list\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-list-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Shopping Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"18px\"\n              },\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 21\n          }, this), cartItems.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 29\n          }, this) : cartItems.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: \"product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 90,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 89,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-name\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/product/\" + item.product,\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: item.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Rating, {\n                  rating: item.rating,\n                  numReviews: item.numReviews\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 98,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u20B9\", item.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item.countInStock > 5 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"green\",\n                    fontSize: \"15px\"\n                  },\n                  children: \"In stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"red\",\n                    fontSize: \"15px\"\n                  },\n                  children: \"Hurry!! Few left.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 110,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Qty:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: item.qty,\n                  onChange: e => updateCartHandler(item._id, e.target.value),\n                  children: [...Array(item.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: x + 1,\n                    children: x + 1\n                  }, x + 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 117,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 115,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"snackbar\",\n                  children: \"Deleted from cart.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 120,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"del-but\",\n                  onClick: () => removeFromCartHandler(item.product, item._id),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 113,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-price\",\n              children: [\"\\u20B9\", item.price * item.qty]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-Subtotal\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Subtotal (\", tqty, \" items) :\", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\"\\u20B9\", total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 134,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-action\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Subtotal (\", tqty, \" items) :\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"\\u20B9\", total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: checkoutHandler,\n          className: \"button primary full-width\",\n          disabled: cartItems.length === 0,\n          children: \"Proceed to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 16\n    }, this); //reduce((previousScore, currentScore, index)=>previousScore+currentScore, 0);\n  }\n  /* inside cart action\r\n    <div className=\"cart-action-Free\"> \r\n            {\r\n                  total >= 500 ?\r\n                  <i class=\"fa fa-check-circle\">Your order is eligible for FREE Delivery.</i> :\r\n                  cartItems.length > 0 && <p> FREE Delivery on orders over ₹500.</p> \r\n              }\r\n              </div>*/\n\n\n  if (!userInfo) {\n    //Total calculation\n    var total = 0,\n        tqty = 0;\n\n    for (const item2 in cartItems2) {\n      total = total + cartItems2[item2].price * cartItems2[item2].qty;\n      tqty = parseInt(tqty) + parseInt(cartItems2[item2].qty);\n    }\n\n    console.log(total); //Total calculation end\n\n    const removeFromCartHandler = productId2 => {\n      dispatch(removeFromCart(productId2)); //dispatch an action to trigger a state change(Remove item from cart).\n      //popup\n\n      var x = document.getElementById(\"snackbar\");\n      x.className = \"show\";\n      setTimeout(function () {\n        x.className = x.className.replace(\"show\", \"\");\n      }, 2000); //popup-end\n    };\n\n    const checkoutHandler = () => {\n      props.history.push(\"/checkout\");\n    };\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"cart\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-list\",\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"cart-list-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Shopping Cart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontSize: \"18px\"\n              },\n              children: \"Price\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 196,\n            columnNumber: 21\n          }, this), cartItems2.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n            children: \"Cart is empty\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 207,\n            columnNumber: 29\n          }, this) : cartItems2.map(item2 => /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item2.image,\n                alt: \"product\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 215,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-name\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/product/\" + item2.product,\n                  children: /*#__PURE__*/_jsxDEV(\"b\", {\n                    children: item2.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 220,\n                    columnNumber: 49\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 219,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 218,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: /*#__PURE__*/_jsxDEV(Rating, {\n                  rating: item2.rating,\n                  numReviews: item2.numReviews\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 224,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 223,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"\\u20B9\", item2.price]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: item2.countInStock > 5 ? /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"green\",\n                    fontSize: \"15px\"\n                  },\n                  children: \"In stock\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 234,\n                  columnNumber: 49\n                }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  style: {\n                    color: \"red\",\n                    fontSize: \"15px\"\n                  },\n                  children: \"Hurry!! Few left.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 49\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [\"Qty:\", /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: item2.qty,\n                  onChange: e => dispatch(addToCart(item2.product, e.target.value)),\n                  children: [...Array(item2.countInStock).keys()].map(x => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: x + 1,\n                    children: x + 1\n                  }, x + 1, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 242,\n                    columnNumber: 53\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 240,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  id: \"snackbar\",\n                  children: \"Deleted from cart.\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 245,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"del-but\",\n                  onClick: () => removeFromCartHandler(item2.product),\n                  children: \"Delete\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cart-price\",\n              children: [\"\\u20B9\", item2.price * item2.qty]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 33\n          }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"cart-Subtotal\",\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Subtotal (\", tqty, \" items) :\", /*#__PURE__*/_jsxDEV(\"b\", {\n                children: [\"\\u20B9\", total]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 263,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 259,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"cart-action\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: [\"Subtotal (\", tqty, \" items) :\", /*#__PURE__*/_jsxDEV(\"b\", {\n            children: [\"\\u20B9\", total]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 274,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: checkoutHandler,\n          className: \"button primary full-width\",\n          disabled: cartItems.length === 0,\n          children: \"Proceed to Checkout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 269,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 16\n    }, this);\n  }\n}\n\n_s(CartScreen, \"1TV1lhx8k6OkIVdFjY4wH7GjE9E=\", false, function () {\n  return [useDispatch, useSelector, useSelector, useSelector];\n});\n\n_c = CartScreen;\nexport default CartScreen;\n\nvar _c;\n\n$RefreshReg$(_c, \"CartScreen\");","map":{"version":3,"sources":["C:/Users/rohit/Desktop/intern/Sushmita - Final3/frontend/src/screens/CartScreen.js"],"names":["React","useEffect","useState","useDispatch","useSelector","Link","addToCart","removeFromCart","getCartItems","updateCart","Axios","Rating","CartScreen","props","dispatch","userSignin","state","userInfo","cart","cartItems","isCartItemsLOaded","cart2","cartItems2","total","tqty","item","price","qty","parseInt","console","log","removeFromCartHandler","productId","itemId","x","document","getElementById","className","setTimeout","replace","get","then","response","_id","updateCartHandler","updateId","updateQty","checkoutHandler","history","push","fontSize","length","map","image","product","name","rating","numReviews","countInStock","color","e","target","value","Array","keys","item2","productId2"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Link } from 'react-router-dom';\r\nimport { addToCart, removeFromCart, getCartItems,updateCart } from '../actions/cartActions';\r\nimport './Cart.css';\r\nimport Axios from \"axios\";\r\nimport Rating from './Rating';\r\n\r\nfunction CartScreen(props) {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const userSignin = useSelector(state => state.userSignin);\r\n    const { userInfo } = userSignin;\r\n\r\n    const cart = useSelector(state => state.cart);\r\n    const { cartItems, isCartItemsLOaded } = cart;\r\n\r\n    const cart2 = useSelector(state => state.cart2);\r\n    const { cartItems2 } = cart2;\r\n\r\n    if (userInfo) {\r\n\r\n       \r\n        // const [ttqty,setTtqty] = useState(0);\r\n        //Total calculation\r\n        var total = 0, tqty = 0;\r\n        for (const item in cartItems) {\r\n            total = total + cartItems[item].price * cartItems[item].qty;\r\n            tqty = parseInt(tqty) + parseInt(cartItems[item].qty);\r\n        }\r\n        console.log(total);\r\n        //Total calculation end\r\n       \r\n        if (!isCartItemsLOaded) {\r\n            dispatch(getCartItems()); //If CartItems are not LOaded then get the cartitems.\r\n        }\r\n\r\n        const removeFromCartHandler = (productId,itemId) => {\r\n            if(itemId){\r\n           // console.log(\"removeFromCartHandler\",productId);\r\n            dispatch(removeFromCart(itemId)); //dispatch an action to trigger a state change(Remove item from cart).\r\n            //popup\r\n            var x = document.getElementById(\"snackbar\");\r\n            x.className = \"show\";\r\n            setTimeout(function () { x.className = x.className.replace(\"show\", \"\"); }, 2000);\r\n            //popup-end\r\n            }\r\n            else{\r\n                Axios.get(\"/api/products/\" + productId).then(response => {\r\n                    dispatch(removeFromCart(response._id));\r\n                });\r\n                \r\n            }\r\n            console.log(\"removeFromCartHandler\",productId);\r\n        }\r\n\r\n        const updateCartHandler = (updateId,updateQty) => {\r\n            console.log(\"updateCartHandler id\",updateId);\r\n            console.log(\"updateCartHandler qty\",updateQty);\r\n            dispatch(updateCart(updateId,updateQty));\r\n        }\r\n       \r\n        const checkoutHandler = () => {\r\n            props.history.push(\"/checkout\");\r\n        }\r\n\r\n        return <div className=\"cart\">\r\n            <div className=\"cart-list\">\r\n                <ul className=\"cart-list-container\">\r\n                    <li>\r\n                        <h3>\r\n                            Shopping Cart\r\n                        </h3>\r\n                        <div style={{fontSize: \"18px\" }}>\r\n                            Price\r\n                        </div>\r\n                    </li>\r\n\r\n                    {\r\n                        cartItems.length === 0 ?\r\n                            <div>\r\n                                Cart is empty\r\n                            </div>\r\n                            :\r\n                            cartItems.map(item =>\r\n                                <li>\r\n\r\n                                    <div className=\"cart-image\">\r\n                                        <img src={item.image} alt=\"product\" />\r\n                                    </div>\r\n                                    <div className=\"cart-name\">\r\n                                        <div>\r\n                                            <Link to={\"/product/\" + item.product}>\r\n                                                <b>{item.name}</b>\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div>\r\n                                            <Rating\r\n                                                rating={item.rating}\r\n                                                numReviews={item.numReviews}>\r\n                                            </Rating>\r\n                                        </div>\r\n                                        <div>\r\n                                        ₹{item.price}\r\n                                        </div>\r\n                                        <div>\r\n                                            {item.countInStock > 5 ?\r\n                                                <p style={{ color: \"green\", fontSize: \"15px\" }}>In stock</p> :\r\n                                                <p style={{ color: \"red\", fontSize: \"15px\" }}>Hurry!! Few left.</p>\r\n                                            }\r\n                                        </div>\r\n                                        <div>\r\n                                            Qty:\r\n                                            <select value={item.qty} onChange={(e) => updateCartHandler(item._id, e.target.value)}>\r\n                                                {[...Array(item.countInStock).keys()].map(x =>\r\n                                                    <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                                                )}\r\n                                            </select>\r\n                                            <div id=\"snackbar\">Deleted from cart.</div>\r\n                                            <button type=\"button\" className=\"del-but\" onClick={() => removeFromCartHandler(item.product,item._id)} >\r\n                                                Delete\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"cart-price\">\r\n                                        ₹{item.price * item.qty}\r\n                                    </div>\r\n\r\n                                </li>\r\n\r\n                            )\r\n                    }\r\n                    <div className=\"cart-Subtotal\">\r\n                        <p>\r\n                            Subtotal ({tqty} items)\r\n                            :\r\n                            <b>₹{total}</b>\r\n                        </p>\r\n                    </div>\r\n                </ul>\r\n            </div>\r\n\r\n            <div className=\"cart-action\">\r\n\r\n                <h3>\r\n\r\n                    Subtotal ({tqty} items)\r\n                    :\r\n                    <b>₹{total}</b>\r\n\r\n                </h3>\r\n                <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n                    Proceed to Checkout\r\n                </button>\r\n            </div>\r\n        </div>\r\n        //reduce((previousScore, currentScore, index)=>previousScore+currentScore, 0);\r\n    }\r\n    /* inside cart action\r\n      <div className=\"cart-action-Free\"> \r\n              {\r\n                    total >= 500 ?\r\n                    <i class=\"fa fa-check-circle\">Your order is eligible for FREE Delivery.</i> :\r\n                    cartItems.length > 0 && <p> FREE Delivery on orders over ₹500.</p> \r\n                }\r\n                </div>*/\r\n\r\n    if (!userInfo) {\r\n       \r\n        //Total calculation\r\n        var total = 0, tqty = 0;\r\n        for (const item2 in cartItems2) {\r\n            total = total + cartItems2[item2].price * cartItems2[item2].qty;\r\n            tqty = parseInt(tqty) + parseInt(cartItems2[item2].qty);\r\n        }\r\n        console.log(total);\r\n        //Total calculation end\r\n\r\n        const removeFromCartHandler = (productId2) => {\r\n            dispatch(removeFromCart(productId2)); //dispatch an action to trigger a state change(Remove item from cart).\r\n            //popup\r\n            var x = document.getElementById(\"snackbar\");\r\n            x.className = \"show\";\r\n            setTimeout(function () { x.className = x.className.replace(\"show\", \"\"); }, 2000);\r\n            //popup-end\r\n        }\r\n      \r\n        const checkoutHandler = () => {\r\n            props.history.push(\"/checkout\");\r\n        }\r\n\r\n        return <div className=\"cart\">\r\n            <div className=\"cart-list\">\r\n                <ul className=\"cart-list-container\">\r\n                    <li>\r\n                        <h3>\r\n                            Shopping Cart\r\n                        </h3>\r\n                        <div style={{fontSize: \"18px\" }}>\r\n                            Price\r\n                        </div>\r\n                    </li>\r\n\r\n                    {\r\n                        cartItems2.length === 0 ?\r\n                            <div>\r\n                                Cart is empty\r\n                            </div>\r\n                            :\r\n                            cartItems2.map(item2 =>\r\n                                <li>\r\n\r\n                                    <div className=\"cart-image\">\r\n                                        <img src={item2.image} alt=\"product\" />\r\n                                    </div>\r\n                                    <div className=\"cart-name\">\r\n                                        <div>\r\n                                            <Link to={\"/product/\" + item2.product}>\r\n                                                <b>{item2.name}</b>\r\n                                            </Link>\r\n                                        </div>\r\n                                        <div>\r\n                                            <Rating\r\n                                                rating={item2.rating}\r\n                                                numReviews={item2.numReviews}>\r\n                                            </Rating>\r\n                                        </div>\r\n                                        <div>\r\n                                        ₹{item2.price}\r\n                                        </div>\r\n                                        <div>\r\n                                            {item2.countInStock > 5 ?\r\n                                                <p style={{ color: \"green\", fontSize: \"15px\" }}>In stock</p> :\r\n                                                <p style={{ color: \"red\", fontSize: \"15px\" }}>Hurry!! Few left.</p>\r\n                                            }\r\n                                        </div>\r\n                                        <div>\r\n                                            Qty:\r\n                                            <select value={item2.qty} onChange={(e) => dispatch(addToCart(item2.product, e.target.value))}>\r\n                                                {[...Array(item2.countInStock).keys()].map(x =>\r\n                                                    <option key={x + 1} value={x + 1}>{x + 1}</option>\r\n                                                )}\r\n                                            </select>\r\n                                            <div id=\"snackbar\">Deleted from cart.</div>\r\n                                            <button type=\"button\" className=\"del-but\" onClick={() => removeFromCartHandler(item2.product)} >\r\n                                                Delete\r\n                                            </button>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"cart-price\">\r\n                                        ₹{item2.price * item2.qty}\r\n                                    </div>\r\n\r\n                                </li>\r\n\r\n                            )\r\n                    }\r\n                    <div className=\"cart-Subtotal\">\r\n                        <p>\r\n                            Subtotal ({tqty} items)\r\n                            :\r\n                            <b>₹{total}</b>\r\n                        </p>\r\n                    </div>\r\n                </ul>\r\n            </div>\r\n\r\n            <div className=\"cart-action\">\r\n\r\n                <h3>\r\n                Subtotal ({tqty} items)\r\n                            :\r\n                            <b>₹{total}</b>\r\n\r\n                </h3>\r\n                <button onClick={checkoutHandler} className=\"button primary full-width\" disabled={cartItems.length === 0}>\r\n                    Proceed to Checkout\r\n                </button>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n}\r\nexport default CartScreen;"]},"metadata":{},"sourceType":"module"}